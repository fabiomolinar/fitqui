<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../fitqui-shared-styles.html">
<link rel="import" href="../fitqui-icones.html">

<dom-module id="fitqui-trainer-details">
  <template>
    <style include="fitqui-shared-styles"></style>
    <link rel="stylesheet" type="text/css" href="../../css/fitqui-app/fitqui-content/fitqui-trainer-details.css" inline>

    <div>
      <div class="programa" id="info-exercicio">
        <h2 id="nome">{{nome}}</h2>
        <table id="tabelaInfo">
          <col>
          <col width="24">
          <col id="quantidades">
          <tr>
              <td><h3 id="musculosPrimarios">{{musculosPrimarios}}</h3></td>
            <td></td>
            <td><p id="pRepeticoes">Repetições: <span id="repeticoes">{{repeticoes}}</span></p></td>
          </tr>
          <tr>
            <td><h5 id="musculosSecundarios">{{musculosSecundarios}}</h5></td>
            <td ></td>
            <td><p id="pDuracao">Duração: <span id="duracao">{{duracao}}</span></p></td>
          </tr>
        </table>
        <img id="gif" src="{{gif}}" alt="">
        <paper-progress
          id="progressoAerobico"
          value="{{progresso.value}}"
          min="{{progresso.min}}"
          max="{{progresso.max}}"
          class="transiting">
        </paper-progress>
        <table id="youtube-avaliacao">
          <col>
          <col width="24">
          <col>
          <tr>
            <td><p><a id="youtube" href="{{youtube}}">Veja o vídeo</a></p></td>
            <td></td>
            <td>
              <div id="avaliar">
                <p>Avalie o exercício:</p>
                <div class="">
                  <iron-icon id="notaNegativa" icon="icones:mood-bad"></iron-icon>
                  <iron-icon id="notaNeutra" icon="icones:face"></iron-icon>
                  <iron-icon id="notaPositiva" icon="icones:mood"></iron-icon>
                </div>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>

  </template>
  <script>
    Polymer({
      is: 'fitqui-trainer-details',
      properties: {
        programa: {
          type: Array
        },
        posicao: {
          type: Number
        },
        pausado: {
          type: Boolean
        },
        nome: {
          type: String,
          value: () => "Exercicio",
          computed: 'computeVariavel(programa, posicao, "nome")'
        },
        musculosPrimarios: {
          type: Array,
          value: () => [],
          computed: 'computeVariavel(programa, posicao, "musculosPrimarios")'
        },
        musculosSecundarios: {
          type: Array,
          value: () => [],
          computed: 'computeVariavel(programa, posicao, "musculosSecundarios")'
        },
        repeticoes: {
          type: Number,
          value: () => -1,
          computed: 'computeVariavel(programa, posicao, "repeticoes")'
        },
        duracao: {
          type: Number,
          value: () => -1,
          computed: 'computeVariavel(programa, posicao, "duracao")'
        },
        gif: {
          type: String,
          value: () => "",
          computed: 'computeVariavel(programa, posicao, "gif")'
        },
        youtube: {
          type: String,
          value: () => "",
          computed: 'computeVariavel(programa, posicao, "youtube")'
        },
      },
      computeVariavel: function(programa, posicao, variavel){
        if (this.checkProgramaPosicao()) {
          return programa[posicao]  [variavel];
        }
      },
      checkProgramaPosicao: function(){
        var verificado = false;
        try {
          if (
            this.programa &&
            this.posicao &&
            this.programa.length > 0 &&
            this.posicao > 0 &&
            this.posicao < this.programa.length + 1) {
              verificado = true;
          }
        } finally {
          return verificado;
        }
      }
    });
  </script>
</dom-module>
